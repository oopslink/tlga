# 小学霸冒险记 - 积分系统

一个游戏化的儿童学习积分管理系统,包含三种货币(金币/XP/星星)、复杂的奥数加成倍率、等级特权、连击奖励、隐藏成就等机制。

## 🎮 功能特性

### 核心货币系统
- **金币 💰**: 主要货币,用于兑换奖励
- **经验值 ✨**: 用于升级,解锁特权
- **星星 ⭐**: 稀有货币,用于许愿池

### 每日任务
- **作业**: 根据质量(完美/良好/一般)获得不同奖励,自查额外加分
- **数学练习**: 5档难度(基础/中等/困难/竞赛/奥数),全对有额外奖励
- **颠球训练**: 基础奖励 + 超时奖励 + 新纪录奖励
- **语言学习**: 英语阅读、英语单词、法语,完成三项有组合奖励

### 奥数加成倍率系统
- 基础: 1.0x
- 中等: 1.2x
- 困难: 1.5x
- 竞赛: 1.8x
- 奥数: 2.0x
- **Lv10额外**: +0.2倍率

### 等级特权
- **Lv4-6**: 金币 +20% (在奥数倍率之前应用)
- **Lv7-9**: 星星 ×2
- **Lv10**: 奥数倍率 +0.2 & 梦想基金(额外存入10%金币)

### 连击系统
- **3天连击**: 30金币 + 1星星
- **7天连击**: 70金币 + 3星星
- **14天连击**: 直接升1级 + 5星星
- 可叠加(如第21天同时获得3天和7天奖励)

## 📐 积分计算公式

```
最终金币 = floor(基础金币 × (1 + 等级加成%) × 奥数加成倍率) + 连击奖励
```

## 🚀 快速开始

### 安装依赖
```bash
npm install
```

### 初始化数据
```bash
npm run init-data
```

### 生成演示数据
```bash
npm run seed-demo
```

### 运行开发服务器
```bash
npm run dev
```

访问 http://localhost:3000

### 运行测试
```bash
npm run test
```

## 📊 测试覆盖

项目包含86个单元测试,覆盖所有核心积分引擎模块。所有测试通过: **86/86 ✓**

## 🎯 使用说明

### 仪表盘
- 查看玩家信息、货币、等级、连击

### 每日任务页面
1. 勾选完成的任务
2. 填写任务详情(质量、难度、时长等)
3. 添加语言学习记录
4. 实时预览奖励计算
5. 点击"保存并结算奖励"完成记录

## 🏗️ 技术栈

- **Vue 3 + TypeScript + Composition API**
- **Vite** (构建工具)
- **Pinia** (状态管理)
- **Vue Router** (路由)
- **Vitest** (单元测试)
- **JSON文件存储** + localStorage降级

## 📄 许可证

MIT License
